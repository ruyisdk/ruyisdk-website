"use strict";(globalThis.webpackChunkruyisdk=globalThis.webpackChunkruyisdk||[]).push([[2165],{19027(e,n,i){i.r(n),i.d(n,{assets:()=>c,contentTitle:()=>r,default:()=>h,frontMatter:()=>o,metadata:()=>l,toc:()=>d});var t=i(86070),s=i(39229);const o={sidebar_position:2},r="Milk-V Duo: Build and Debug with Extension",l={id:"VSCode-Plugins/cases/case2",title:"Milk-V Duo: Build and Debug with Extension",description:"This example follows the IDE documentation to demonstrate how to use the extension for toolchain installation and virtual environment creation, and how to run and debug within VS Code using SSH/gdbserver.",source:"@site/i18n/en/docusaurus-plugin-content-docs/current/VSCode-Plugins/cases/case2.md",sourceDirName:"VSCode-Plugins/cases",slug:"/VSCode-Plugins/cases/case2",permalink:"/en/docs/VSCode-Plugins/cases/case2",draft:!1,unlisted:!1,tags:[],version:"current",sidebarPosition:2,frontMatter:{sidebar_position:2},sidebar:"tutorialSidebar",previous:{title:"CoreMark: Build with Extension (Example: LicheePi 4A)",permalink:"/en/docs/VSCode-Plugins/cases/case1"},next:{title:"\u5176\u4ed6\u8bf4\u660e",permalink:"/en/docs/category/\u5176\u4ed6\u8bf4\u660e"}},c={},d=[{value:"Steps",id:"steps",level:2},{value:"Notes",id:"notes",level:2}];function a(e){const n={a:"a",code:"code",h1:"h1",h2:"h2",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,s.R)(),...e.components};return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(n.h1,{id:"milk-v-duo-build-and-debug-with-extension",children:"Milk-V Duo: Build and Debug with Extension"}),"\n",(0,t.jsx)(n.p,{children:"This example follows the IDE documentation to demonstrate how to use the extension for toolchain installation and virtual environment creation, and how to run and debug within VS Code using SSH/gdbserver."}),"\n",(0,t.jsx)(n.h2,{id:"steps",children:"Steps"}),"\n",(0,t.jsxs)(n.ol,{children:["\n",(0,t.jsxs)(n.li,{children:["\n",(0,t.jsxs)(n.p,{children:["Open VS Code and click the ",(0,t.jsx)(n.strong,{children:"Ruyi"})," icon in the sidebar to enter the extension homepage."]}),"\n"]}),"\n",(0,t.jsxs)(n.li,{children:["\n",(0,t.jsxs)(n.p,{children:["In the ",(0,t.jsx)(n.strong,{children:"Packages"})," view, install ",(0,t.jsx)(n.code,{children:"gnu-milkv-milkv-duo-musl-bin"}),"."]}),"\n"]}),"\n",(0,t.jsxs)(n.li,{children:["\n",(0,t.jsxs)(n.p,{children:["In the ",(0,t.jsx)(n.strong,{children:"Virtual Environments"})," view, click ",(0,t.jsx)(n.code,{children:"+"})," to create a new virtual environment:"]}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:["Select ",(0,t.jsx)(n.code,{children:"milkv-duo"})," as the Profile."]}),"\n",(0,t.jsxs)(n.li,{children:["Choose ",(0,t.jsx)(n.code,{children:"gnu-milkv-milkv-duo-musl-bin"})," as the toolchain."]}),"\n",(0,t.jsx)(n.li,{children:"Specify a name and path, then create and activate the environment by clicking its name."}),"\n"]}),"\n"]}),"\n",(0,t.jsxs)(n.li,{children:["\n",(0,t.jsxs)(n.p,{children:["Obtain the source code: in the Explorer, right-click the target directory and select ",(0,t.jsx)(n.strong,{children:"Extract RuyiSDK Package"})," to unpack the ",(0,t.jsx)(n.code,{children:"milkv-duo-examples"})," source."]}),"\n"]}),"\n",(0,t.jsxs)(n.li,{children:["\n",(0,t.jsx)(n.p,{children:"In the VS Code terminal (with the virtual environment activated), run the build, or create VS Code tasks that invoke the toolchain from the virtual environment."}),"\n"]}),"\n",(0,t.jsxs)(n.li,{children:["\n",(0,t.jsx)(n.p,{children:"Transfer and run:"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:["Use ",(0,t.jsx)(n.code,{children:"scp"})," to transfer the target program to the device (see the ",(0,t.jsx)(n.code,{children:"upload"})," target in the Makefile from the IDE documentation)."]}),"\n",(0,t.jsx)(n.li,{children:"Run the program in an SSH terminal, or configure VS Code\u2019s C/C++ Remote Application to run remotely."}),"\n"]}),"\n"]}),"\n",(0,t.jsxs)(n.li,{children:["\n",(0,t.jsx)(n.p,{children:"Debug:"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:["On the device, prepare ",(0,t.jsx)(n.code,{children:"gdbserver"})," and run, for example: ",(0,t.jsx)(n.code,{children:"gdbserver :2345 ./your_binary"}),"."]}),"\n",(0,t.jsxs)(n.li,{children:["On the host, use ",(0,t.jsx)(n.code,{children:"riscv64-unknown-linux-musl-gdb"})," from the virtual environment to connect to the device:"]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-bash",metastring:'input="1,2"',children:"riscv64-unknown-linux-musl-gdb ./your_binary\ntarget remote <device-ip>:2345\n"})}),"\n",(0,t.jsx)(n.h2,{id:"notes",children:"Notes"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:["For more complete IDE configuration and demonstrations, please refer to ",(0,t.jsx)(n.a,{href:"/en/docs/IDE/cases/milkv-duo-ide",children:"Milkv Duo IDE Development Workflow"}),"."]}),"\n"]})]})}function h(e={}){const{wrapper:n}={...(0,s.R)(),...e.components};return n?(0,t.jsx)(n,{...e,children:(0,t.jsx)(a,{...e})}):a(e)}},39229(e,n,i){i.d(n,{R:()=>r,x:()=>l});var t=i(30758);const s={},o=t.createContext(s);function r(e){const n=t.useContext(o);return t.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function l(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(s):e.components||s:r(e.components),t.createElement(o.Provider,{value:n},e.children)}}}]);